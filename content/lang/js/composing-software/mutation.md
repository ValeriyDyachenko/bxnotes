---
title:  Мутация и чистота
description: Мутация и чистота в JavaScript.
keywords: js, мутация, чистые функции
date: 2019-09-16 02:00:00
---

Мутация &ndash; это изменение исходной структуры данных. Например:

```js
const foo = {
  bar: 'baz'
};

foo.bar = 'qux';
```

Так как объекты в JavaScript передаются по ссылки, то функция может изменить объект аргумента. Если это происходит, то функция не является чистой. Например:

```js
const x = {a: 1, b: 1}
const mutateX = (origin) => {
  origin.a += 2;
  return origin;
}
const y = mutateX(x);
console.log(y, x) // {a:3, b:1}, {a:3, b:1}
```

Чистота функций очень важна, она гарантирует отсутствие багов, связанных со случайным изменением объектов. По этому, вместо того, чтобы изменять оригинал, в функциональном программировании принято работать с копией объекта:

```js
const x = {a: 1, b: 1}
const getChangedX = (origin) => ({...origin, a: origin.a + 2})
const y = getChangedX(x);
console.log(y, x) // {a:3, b:1}, {a:1, b:1}
```

В этом примере, функция ```getChangedX()``` не мутирует исходный объект, так как копирует его свойства через синтаксис ```деструктуризации```.
